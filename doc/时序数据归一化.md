# 时序数据归一化
归一化为调整数据到0-1的范围，如果数据比较稳定，不存在极端的最大最小值，使用归一化效果较好。  
时间序列的特殊性：1. 相邻序列间的模式有相关性；2.时间维度上数据是不断产生的，无法使用全局归一化。

## 理论小记
1. 全局归一化
   利用全局范围内的最大最小值对原始数据进行约束：X_norm = (X_raw-X_min)/(X_max-X_min)
   全局归一化，依赖全局的数据，但容易会受到异常值的影响，如异常值常常就是X_min或者X_max，这样归一化会导致时间序列失真，出现无效归一化。
1. 加窗归一化
   利用窗口内序列的极大值、极小值对窗口内时间序列进行归一化，这样一定程度上解决时间跨度大的测量差异，但噪声依旧会严重影响。无返满足后续的时间序列分析。
1. 自适应归一化
   单纯基于极大极小、最大最小值约束数据，无法满足深度学习对时间序列的分析要求，还有一种自适应归一化方法。
详解：对于给定的时间序列S，对S进行加窗分段后，S={S_1,S_2,...,S_n}，对S进行自适应归一化，序列为R={R_1,R_2,...,R_n}
```
Initial: 
f_0: 存储相邻序列对当前序列的影响结果; 
d_0:; 
a：相邻时间序列的关系因子; 
b：相邻时间序列的关系因子;
for i from 1 to n:
    d_i = d_i-1 - a{d_i-1 - (max(S_i)+min(S_i))/2};
    f_i = f_i-1 - b{f_i-1 - (max(S_i)+min(S_i))};
    r_i = (S_i - d_i)/f_i;
End;
return R;
```